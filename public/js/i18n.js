// I Love School - Internationalization (i18n)

const translations = {
    en: {
        // Header and Navigation
        siteName: "I Love School",
        searchPlaceholder: "Search I Love School",
        profile: "Profile",
        logout: "Logout",
        
        // Sidebar
        classmates: "Classmates",
        studyGroups: "Study Groups",
        courses: "Courses",
        schedule: "Schedule",
        achievements: "Achievements",
        studyBuddies: "Study Buddies",
        quickStudy: "Quick Study",
        mathQuiz: "Math Quiz",
        chemistryLab: "Chemistry Lab",
        historyNotes: "History Notes",
        
        // Post Creator
        postPlaceholder: "What's on your mind, John?",
        photoVideo: "Photo/Video",
        feelingActivity: "Feeling/Activity",
        post: "Post",
        
        // Post Actions
        like: "Like",
        comment: "Comment",
        share: "Share",
        
        // Login Page
        loginTitle: "I Love School",
        loginSubtitle: "Connect with classmates and share your learning journey",
        emailPlaceholder: "Email address",
        passwordPlaceholder: "Password",
        loginButton: "Log In",
        continueWith: "Continue with",
        demoNote: "This is a demo application. Click any login button to proceed.",
        
        // Friends Page
        friendsTitle: "Friends",
        friendRequests: "Friend Requests",
        allFriends: "All Friends",
        peopleYouMayKnow: "People You May Know",
        accept: "Accept",
        decline: "Decline",
        unfriend: "Unfriend",
        addFriend: "Add Friend",
        mutualFriends: "mutual friends",
        friendsSince: "Friends since",
        
        // Profile Page
        about: "About",
        worksAt: "Works at",
        studiedAt: "Studied at",
        livesIn: "Lives in",
        single: "Single",
        joined: "Joined",
        editCoverPhoto: "Edit Cover Photo",
        addToStory: "Add to Story",
        seeAll: "See all",
        
        // Sample Posts
        welcomePost: "Welcome to I Love School! ðŸŽ“ðŸ“š This platform helps students connect and share their learning journey together!",
        mathExamPost: "Just aced my math exam! ðŸŽ‰âœ¨ Study groups really do work. Thanks to everyone who helped me prepare! ðŸ’ª",
        jsPost: "Starting a new JavaScript course today! ðŸ’» Anyone else learning web development? Let's connect and study together! ðŸ¤",
        
        // Comments
        commentReply: "This is amazing! Can't wait to share my study notes here! ðŸ“"
    },
    
    ko: {
        // Header and Navigation
        siteName: "ì•„ì´ ëŸ¬ë¸Œ ìŠ¤ì¿¨",
        searchPlaceholder: "ì•„ì´ ëŸ¬ë¸Œ ìŠ¤ì¿¨ ê²€ìƒ‰",
        profile: "í”„ë¡œí•„",
        logout: "ë¡œê·¸ì•„ì›ƒ",
        
        // Sidebar
        classmates: "í•™ê¸‰ ì¹œêµ¬",
        studyGroups: "ìŠ¤í„°ë”” ê·¸ë£¹",
        courses: "ìˆ˜ê°• ê³¼ëª©",
        schedule: "ì‹œê°„í‘œ",
        achievements: "ì„±ì·¨ë„",
        studyBuddies: "ìŠ¤í„°ë”” ë©”ì´íŠ¸",
        quickStudy: "ë¹ ë¥¸ í•™ìŠµ",
        mathQuiz: "ìˆ˜í•™ í€´ì¦ˆ",
        chemistryLab: "í™”í•™ ì‹¤í—˜",
        historyNotes: "ì—­ì‚¬ ë…¸íŠ¸",
        
        // Post Creator
        postPlaceholder: "ë¬´ìŠ¨ ìƒê°ì„ í•˜ê³  ìžˆë‚˜ìš”, ì¡´?",
        photoVideo: "ì‚¬ì§„/ë™ì˜ìƒ",
        feelingActivity: "ê¸°ë¶„/í™œë™",
        post: "ê²Œì‹œ",
        
        // Post Actions
        like: "ì¢‹ì•„ìš”",
        comment: "ëŒ“ê¸€",
        share: "ê³µìœ ",
        
        // Login Page
        loginTitle: "ì•„ì´ ëŸ¬ë¸Œ ìŠ¤ì¿¨",
        loginSubtitle: "ë°˜ ì¹œêµ¬ë“¤ê³¼ ì—°ê²°í•˜ê³  í•™ìŠµ ì—¬ì •ì„ ê³µìœ í•˜ì„¸ìš”",
        emailPlaceholder: "ì´ë©”ì¼ ì£¼ì†Œ",
        passwordPlaceholder: "ë¹„ë°€ë²ˆí˜¸",
        loginButton: "ë¡œê·¸ì¸",
        continueWith: "ë‹¤ìŒìœ¼ë¡œ ê³„ì†",
        demoNote: "ì´ê²ƒì€ ë°ëª¨ ì• í”Œë¦¬ì¼€ì´ì…˜ìž…ë‹ˆë‹¤. ì•„ë¬´ ë¡œê·¸ì¸ ë²„íŠ¼ì´ë‚˜ í´ë¦­í•˜ì—¬ ê³„ì†í•˜ì„¸ìš”.",
        
        // Friends Page
        friendsTitle: "ì¹œêµ¬",
        friendRequests: "ì¹œêµ¬ ìš”ì²­",
        allFriends: "ëª¨ë“  ì¹œêµ¬",
        peopleYouMayKnow: "ì•Œ ìˆ˜ë„ ìžˆëŠ” ì‚¬ëžŒ",
        accept: "ìˆ˜ë½",
        decline: "ê±°ì ˆ",
        unfriend: "ì¹œêµ¬ ì‚­ì œ",
        addFriend: "ì¹œêµ¬ ì¶”ê°€",
        mutualFriends: "ê³µí†µ ì¹œêµ¬",
        friendsSince: "ì¹œêµ¬ê°€ ëœ ë‚ ",
        
        // Profile Page
        about: "ì†Œê°œ",
        worksAt: "ì§ìž¥",
        studiedAt: "ì¶œì‹  í•™êµ",
        livesIn: "ê±°ì£¼ì§€",
        single: "ì‹±ê¸€",
        joined: "ê°€ìž…ì¼",
        editCoverPhoto: "ì»¤ë²„ ì‚¬ì§„ íŽ¸ì§‘",
        addToStory: "ìŠ¤í† ë¦¬ì— ì¶”ê°€",
        seeAll: "ëª¨ë‘ ë³´ê¸°",
        
        // Sample Posts
        welcomePost: "ì•„ì´ ëŸ¬ë¸Œ ìŠ¤ì¿¨ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ðŸŽ“ðŸ“š ì´ í”Œëž«í¼ì€ í•™ìƒë“¤ì´ ì—°ê²°ë˜ê³  í•™ìŠµ ì—¬ì •ì„ í•¨ê»˜ ê³µìœ í•˜ëŠ” ë° ë„ì›€ì´ ë©ë‹ˆë‹¤!",
        mathExamPost: "ìˆ˜í•™ ì‹œí—˜ì—ì„œ ì¢‹ì€ ì ìˆ˜ë¥¼ ë°›ì•˜ì–´ìš”! ðŸŽ‰âœ¨ ìŠ¤í„°ë”” ê·¸ë£¹ì´ ì •ë§ íš¨ê³¼ê°€ ìžˆë„¤ìš”. ì¤€ë¹„ë¥¼ ë„ì™€ì¤€ ëª¨ë“  ë¶„ë“¤ê»˜ ê°ì‚¬í•©ë‹ˆë‹¤! ðŸ’ª",
        jsPost: "ì˜¤ëŠ˜ ìƒˆë¡œìš´ JavaScript ê³¼ì •ì„ ì‹œìž‘í•©ë‹ˆë‹¤! ðŸ’» ì›¹ ê°œë°œì„ ë°°ìš°ëŠ” ë‹¤ë¥¸ ë¶„ì´ ìžˆë‚˜ìš”? ì—°ê²°í•´ì„œ í•¨ê»˜ ê³µë¶€í•´ìš”! ðŸ¤",
        
        // Comments
        commentReply: "ì •ë§ ë©‹ì ¸ìš”! ì—¬ê¸°ì— ì œ í•™ìŠµ ë…¸íŠ¸ë¥¼ ê³µìœ í•˜ê³  ì‹¶ì–´ìš”! ðŸ“"
    },
    
    zh: {
        // Header and Navigation
        siteName: "æˆ‘çˆ±å­¦æ ¡",
        searchPlaceholder: "æœç´¢æˆ‘çˆ±å­¦æ ¡",
        profile: "ä¸ªäººèµ„æ–™",
        logout: "ç™»å‡º",
        
        // Sidebar
        classmates: "åŒç­åŒå­¦",
        studyGroups: "å­¦ä¹ å°ç»„",
        courses: "è¯¾ç¨‹",
        schedule: "æ—¶é—´è¡¨",
        achievements: "æˆå°±",
        studyBuddies: "å­¦ä¹ ä¼™ä¼´",
        quickStudy: "å¿«é€Ÿå­¦ä¹ ",
        mathQuiz: "æ•°å­¦æµ‹éªŒ",
        chemistryLab: "åŒ–å­¦å®žéªŒå®¤",
        historyNotes: "åŽ†å²ç¬”è®°",
        
        // Post Creator
        postPlaceholder: "çº¦ç¿°ï¼Œä½ åœ¨æƒ³ä»€ä¹ˆï¼Ÿ",
        photoVideo: "ç…§ç‰‡/è§†é¢‘",
        feelingActivity: "å¿ƒæƒ…/æ´»åŠ¨",
        post: "å‘å¸ƒ",
        
        // Post Actions
        like: "ç‚¹èµž",
        comment: "è¯„è®º",
        share: "åˆ†äº«",
        
        // Login Page
        loginTitle: "æˆ‘çˆ±å­¦æ ¡",
        loginSubtitle: "ä¸ŽåŒå­¦è”ç³»ï¼Œåˆ†äº«æ‚¨çš„å­¦ä¹ ä¹‹æ—…",
        emailPlaceholder: "ç”µå­é‚®ä»¶åœ°å€",
        passwordPlaceholder: "å¯†ç ",
        loginButton: "ç™»å½•",
        continueWith: "ç»§ç»­ä½¿ç”¨",
        demoNote: "è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚ç‚¹å‡»ä»»ä½•ç™»å½•æŒ‰é’®å³å¯ç»§ç»­ã€‚",
        
        // Friends Page
        friendsTitle: "æœ‹å‹",
        friendRequests: "å¥½å‹è¯·æ±‚",
        allFriends: "æ‰€æœ‰æœ‹å‹",
        peopleYouMayKnow: "æ‚¨å¯èƒ½è®¤è¯†çš„äºº",
        accept: "æŽ¥å—",
        decline: "æ‹’ç»",
        unfriend: "å–æ¶ˆå¥½å‹",
        addFriend: "æ·»åŠ å¥½å‹",
        mutualFriends: "å…±åŒå¥½å‹",
        friendsSince: "æˆä¸ºå¥½å‹äºŽ",
        
        // Profile Page
        about: "å…³äºŽ",
        worksAt: "å·¥ä½œäºŽ",
        studiedAt: "å°±è¯»äºŽ",
        livesIn: "å±…ä½åœ¨",
        single: "å•èº«",
        joined: "åŠ å…¥æ—¶é—´",
        editCoverPhoto: "ç¼–è¾‘å°é¢ç…§ç‰‡",
        addToStory: "æ·»åŠ åˆ°æ•…äº‹",
        seeAll: "æŸ¥çœ‹å…¨éƒ¨",
        
        // Sample Posts
        welcomePost: "æ¬¢è¿Žæ¥åˆ°æˆ‘çˆ±å­¦æ ¡ï¼ðŸŽ“ðŸ“š è¿™ä¸ªå¹³å°å¸®åŠ©å­¦ç”Ÿè¿žæŽ¥å¹¶åˆ†äº«ä»–ä»¬çš„å­¦ä¹ ä¹‹æ—…ï¼",
        mathExamPost: "æ•°å­¦è€ƒè¯•è€ƒå¾—å¾ˆå¥½ï¼ðŸŽ‰âœ¨ å­¦ä¹ å°ç»„çœŸçš„å¾ˆæœ‰æ•ˆã€‚æ„Ÿè°¢æ‰€æœ‰å¸®åŠ©æˆ‘å‡†å¤‡çš„äººï¼ðŸ’ª",
        jsPost: "ä»Šå¤©å¼€å§‹å­¦ä¹ æ–°çš„JavaScriptè¯¾ç¨‹ï¼ðŸ’» è¿˜æœ‰å…¶ä»–äººåœ¨å­¦ä¹ ç½‘é¡µå¼€å‘å—ï¼Ÿè®©æˆ‘ä»¬è”ç³»å¹¶ä¸€èµ·å­¦ä¹ ï¼ðŸ¤",
        
        // Comments
        commentReply: "å¤ªæ£’äº†ï¼è¿«ä¸åŠå¾…è¦åœ¨è¿™é‡Œåˆ†äº«æˆ‘çš„å­¦ä¹ ç¬”è®°ï¼ðŸ“"
    }
};

class I18n {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updatePageText();
    }
    
    t(key) {
        return this.translations[this.currentLanguage][key] || key;
    }
    
    updatePageText() {
        // Update site name
        const logoTexts = document.querySelectorAll('.logo-text');
        logoTexts.forEach(el => el.textContent = this.t('siteName'));
        
        // Update search placeholder
        const searchInputs = document.querySelectorAll('input[placeholder*="Search"]');
        searchInputs.forEach(el => el.placeholder = this.t('searchPlaceholder'));
        
        // Update navigation
        this.updateElementText('[data-i18n="profile"]', 'profile');
        this.updateElementText('[data-i18n="logout"]', 'logout');
        
        // Update sidebar
        this.updateElementText('[data-i18n="classmates"]', 'classmates');
        this.updateElementText('[data-i18n="studyGroups"]', 'studyGroups');
        this.updateElementText('[data-i18n="courses"]', 'courses');
        this.updateElementText('[data-i18n="schedule"]', 'schedule');
        this.updateElementText('[data-i18n="achievements"]', 'achievements');
        this.updateElementText('[data-i18n="studyBuddies"]', 'studyBuddies');
        this.updateElementText('[data-i18n="quickStudy"]', 'quickStudy');
        this.updateElementText('[data-i18n="mathQuiz"]', 'mathQuiz');
        this.updateElementText('[data-i18n="chemistryLab"]', 'chemistryLab');
        this.updateElementText('[data-i18n="historyNotes"]', 'historyNotes');
        
        // Update post creator
        this.updateElementText('[data-i18n="photoVideo"]', 'photoVideo');
        this.updateElementText('[data-i18n="feelingActivity"]', 'feelingActivity');
        this.updateElementText('[data-i18n="post"]', 'post');
        
        // Update post actions
        this.updateElementText('[data-i18n="like"]', 'like');
        this.updateElementText('[data-i18n="comment"]', 'comment');
        this.updateElementText('[data-i18n="share"]', 'share');
        
        // Update post placeholder
        const postInput = document.getElementById('postInput');
        if (postInput) {
            postInput.placeholder = this.t('postPlaceholder');
        }
        
        // Update page title
        const currentPage = window.location.pathname;
        if (currentPage === '/') {
            document.title = this.t('siteName');
        } else if (currentPage === '/login') {
            document.title = `${this.t('siteName')} - ${this.t('loginButton')}`;
        } else if (currentPage === '/friends') {
            document.title = `${this.t('friendsTitle')} - ${this.t('siteName')}`;
        } else if (currentPage.includes('/profile')) {
            document.title = `John Doe - ${this.t('siteName')}`;
        }
        
        // Update sample posts if they exist
        this.updateSamplePosts();
    }
    
    updateElementText(selector, key) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
            if (el) el.textContent = this.t(key);
        });
    }
    
    updateSamplePosts() {
        // This would update the sample posts in the feed
        // In a real implementation, you'd reload the posts with translated content
        if (window.iLoveSchool) {
            window.iLoveSchool.updatePostsLanguage();
        }
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
}

// Initialize i18n
window.i18n = new I18n();

// Language names for the dropdown
const languageNames = {
    en: 'English',
    ko: 'í•œêµ­ì–´',
    zh: 'ä¸­æ–‡'
};