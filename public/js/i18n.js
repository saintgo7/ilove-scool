// I Love School - Internationalization (i18n)

const translations = {
    en: {
        // Header and Navigation
        siteName: "I Love School",
        searchPlaceholder: "Search I Love School",
        profile: "Profile",
        logout: "Logout",
        
        // Sidebar
        classmates: "Classmates",
        studyGroups: "Study Groups",
        courses: "Courses",
        schedule: "Schedule",
        achievements: "Achievements",
        studyBuddies: "Study Buddies",
        quickStudy: "Quick Study",
        mathQuiz: "Math Quiz",
        chemistryLab: "Chemistry Lab",
        historyNotes: "History Notes",
        
        // Post Creator
        postPlaceholder: "What's on your mind, John?",
        photoVideo: "Photo/Video",
        feelingActivity: "Feeling/Activity",
        post: "Post",
        
        // Post Actions
        like: "Like",
        comment: "Comment",
        share: "Share",
        
        // Login Page
        loginTitle: "I Love School",
        loginSubtitle: "Connect with classmates and share your learning journey",
        emailPlaceholder: "Email address",
        passwordPlaceholder: "Password",
        loginButton: "Log In",
        continueWith: "Continue with",
        demoNote: "This is a demo application. Click any login button to proceed.",
        
        // Friends Page
        friendsTitle: "Friends",
        friendRequests: "Friend Requests",
        allFriends: "All Friends",
        peopleYouMayKnow: "People You May Know",
        accept: "Accept",
        decline: "Decline",
        unfriend: "Unfriend",
        addFriend: "Add Friend",
        mutualFriends: "mutual friends",
        friendsSince: "Friends since",
        
        // Profile Page
        about: "About",
        worksAt: "Works at",
        studiedAt: "Studied at",
        livesIn: "Lives in",
        single: "Single",
        joined: "Joined",
        editCoverPhoto: "Edit Cover Photo",
        addToStory: "Add to Story",
        seeAll: "See all",
        
        // Sample Posts
        welcomePost: "Welcome to I Love School! 🎓📚 This platform helps students connect and share their learning journey together!",
        mathExamPost: "Just aced my math exam! 🎉✨ Study groups really do work. Thanks to everyone who helped me prepare! 💪",
        jsPost: "Starting a new JavaScript course today! 💻 Anyone else learning web development? Let's connect and study together! 🤝",
        
        // Comments
        commentReply: "This is amazing! Can't wait to share my study notes here! 📝"
    },
    
    ko: {
        // Header and Navigation
        siteName: "아이 러브 스쿨",
        searchPlaceholder: "아이 러브 스쿨 검색",
        profile: "프로필",
        logout: "로그아웃",
        
        // Sidebar
        classmates: "학급 친구",
        studyGroups: "스터디 그룹",
        courses: "수강 과목",
        schedule: "시간표",
        achievements: "성취도",
        studyBuddies: "스터디 메이트",
        quickStudy: "빠른 학습",
        mathQuiz: "수학 퀴즈",
        chemistryLab: "화학 실험",
        historyNotes: "역사 노트",
        
        // Post Creator
        postPlaceholder: "무슨 생각을 하고 있나요, 존?",
        photoVideo: "사진/동영상",
        feelingActivity: "기분/활동",
        post: "게시",
        
        // Post Actions
        like: "좋아요",
        comment: "댓글",
        share: "공유",
        
        // Login Page
        loginTitle: "아이 러브 스쿨",
        loginSubtitle: "반 친구들과 연결하고 학습 여정을 공유하세요",
        emailPlaceholder: "이메일 주소",
        passwordPlaceholder: "비밀번호",
        loginButton: "로그인",
        continueWith: "다음으로 계속",
        demoNote: "이것은 데모 애플리케이션입니다. 아무 로그인 버튼이나 클릭하여 계속하세요.",
        
        // Friends Page
        friendsTitle: "친구",
        friendRequests: "친구 요청",
        allFriends: "모든 친구",
        peopleYouMayKnow: "알 수도 있는 사람",
        accept: "수락",
        decline: "거절",
        unfriend: "친구 삭제",
        addFriend: "친구 추가",
        mutualFriends: "공통 친구",
        friendsSince: "친구가 된 날",
        
        // Profile Page
        about: "소개",
        worksAt: "직장",
        studiedAt: "출신 학교",
        livesIn: "거주지",
        single: "싱글",
        joined: "가입일",
        editCoverPhoto: "커버 사진 편집",
        addToStory: "스토리에 추가",
        seeAll: "모두 보기",
        
        // Sample Posts
        welcomePost: "아이 러브 스쿨에 오신 것을 환영합니다! 🎓📚 이 플랫폼은 학생들이 연결되고 학습 여정을 함께 공유하는 데 도움이 됩니다!",
        mathExamPost: "수학 시험에서 좋은 점수를 받았어요! 🎉✨ 스터디 그룹이 정말 효과가 있네요. 준비를 도와준 모든 분들께 감사합니다! 💪",
        jsPost: "오늘 새로운 JavaScript 과정을 시작합니다! 💻 웹 개발을 배우는 다른 분이 있나요? 연결해서 함께 공부해요! 🤝",
        
        // Comments
        commentReply: "정말 멋져요! 여기에 제 학습 노트를 공유하고 싶어요! 📝"
    },
    
    zh: {
        // Header and Navigation
        siteName: "我爱学校",
        searchPlaceholder: "搜索我爱学校",
        profile: "个人资料",
        logout: "登出",
        
        // Sidebar
        classmates: "同班同学",
        studyGroups: "学习小组",
        courses: "课程",
        schedule: "时间表",
        achievements: "成就",
        studyBuddies: "学习伙伴",
        quickStudy: "快速学习",
        mathQuiz: "数学测验",
        chemistryLab: "化学实验室",
        historyNotes: "历史笔记",
        
        // Post Creator
        postPlaceholder: "约翰，你在想什么？",
        photoVideo: "照片/视频",
        feelingActivity: "心情/活动",
        post: "发布",
        
        // Post Actions
        like: "点赞",
        comment: "评论",
        share: "分享",
        
        // Login Page
        loginTitle: "我爱学校",
        loginSubtitle: "与同学联系，分享您的学习之旅",
        emailPlaceholder: "电子邮件地址",
        passwordPlaceholder: "密码",
        loginButton: "登录",
        continueWith: "继续使用",
        demoNote: "这是一个演示应用程序。点击任何登录按钮即可继续。",
        
        // Friends Page
        friendsTitle: "朋友",
        friendRequests: "好友请求",
        allFriends: "所有朋友",
        peopleYouMayKnow: "您可能认识的人",
        accept: "接受",
        decline: "拒绝",
        unfriend: "取消好友",
        addFriend: "添加好友",
        mutualFriends: "共同好友",
        friendsSince: "成为好友于",
        
        // Profile Page
        about: "关于",
        worksAt: "工作于",
        studiedAt: "就读于",
        livesIn: "居住在",
        single: "单身",
        joined: "加入时间",
        editCoverPhoto: "编辑封面照片",
        addToStory: "添加到故事",
        seeAll: "查看全部",
        
        // Sample Posts
        welcomePost: "欢迎来到我爱学校！🎓📚 这个平台帮助学生连接并分享他们的学习之旅！",
        mathExamPost: "数学考试考得很好！🎉✨ 学习小组真的很有效。感谢所有帮助我准备的人！💪",
        jsPost: "今天开始学习新的JavaScript课程！💻 还有其他人在学习网页开发吗？让我们联系并一起学习！🤝",
        
        // Comments
        commentReply: "太棒了！迫不及待要在这里分享我的学习笔记！📝"
    }
};

class I18n {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'en';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updatePageText();
    }
    
    t(key) {
        return this.translations[this.currentLanguage][key] || key;
    }
    
    updatePageText() {
        // Update site name
        const logoTexts = document.querySelectorAll('.logo-text');
        logoTexts.forEach(el => el.textContent = this.t('siteName'));
        
        // Update search placeholder
        const searchInputs = document.querySelectorAll('input[placeholder*="Search"]');
        searchInputs.forEach(el => el.placeholder = this.t('searchPlaceholder'));
        
        // Update navigation
        this.updateElementText('[data-i18n="profile"]', 'profile');
        this.updateElementText('[data-i18n="logout"]', 'logout');
        
        // Update sidebar
        this.updateElementText('[data-i18n="classmates"]', 'classmates');
        this.updateElementText('[data-i18n="studyGroups"]', 'studyGroups');
        this.updateElementText('[data-i18n="courses"]', 'courses');
        this.updateElementText('[data-i18n="schedule"]', 'schedule');
        this.updateElementText('[data-i18n="achievements"]', 'achievements');
        this.updateElementText('[data-i18n="studyBuddies"]', 'studyBuddies');
        this.updateElementText('[data-i18n="quickStudy"]', 'quickStudy');
        this.updateElementText('[data-i18n="mathQuiz"]', 'mathQuiz');
        this.updateElementText('[data-i18n="chemistryLab"]', 'chemistryLab');
        this.updateElementText('[data-i18n="historyNotes"]', 'historyNotes');
        
        // Update post creator
        this.updateElementText('[data-i18n="photoVideo"]', 'photoVideo');
        this.updateElementText('[data-i18n="feelingActivity"]', 'feelingActivity');
        this.updateElementText('[data-i18n="post"]', 'post');
        
        // Update post actions
        this.updateElementText('[data-i18n="like"]', 'like');
        this.updateElementText('[data-i18n="comment"]', 'comment');
        this.updateElementText('[data-i18n="share"]', 'share');
        
        // Update post placeholder
        const postInput = document.getElementById('postInput');
        if (postInput) {
            postInput.placeholder = this.t('postPlaceholder');
        }
        
        // Update page title
        const currentPage = window.location.pathname;
        if (currentPage === '/') {
            document.title = this.t('siteName');
        } else if (currentPage === '/login') {
            document.title = `${this.t('siteName')} - ${this.t('loginButton')}`;
        } else if (currentPage === '/friends') {
            document.title = `${this.t('friendsTitle')} - ${this.t('siteName')}`;
        } else if (currentPage.includes('/profile')) {
            document.title = `John Doe - ${this.t('siteName')}`;
        }
        
        // Update sample posts if they exist
        this.updateSamplePosts();
    }
    
    updateElementText(selector, key) {
        const elements = document.querySelectorAll(selector);
        elements.forEach(el => {
            if (el) el.textContent = this.t(key);
        });
    }
    
    updateSamplePosts() {
        // This would update the sample posts in the feed
        // In a real implementation, you'd reload the posts with translated content
        if (window.iLoveSchool) {
            window.iLoveSchool.updatePostsLanguage();
        }
    }
    
    getCurrentLanguage() {
        return this.currentLanguage;
    }
}

// Initialize i18n
window.i18n = new I18n();

// Language names for the dropdown
const languageNames = {
    en: 'English',
    ko: '한국어',
    zh: '中文'
};